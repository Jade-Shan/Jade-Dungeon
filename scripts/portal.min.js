var net=net||{};!function(n){net.jadedungeon=function(){return t(),this};var e=net.jadedungeon.prototype,t=function(n){e.ui={},e.data={},e.markdown=new showdown.Converter,e.data.nav=[{title:"Journal",link:"/"},{title:"Gallery",link:"/gallery.html"},{title:"Note",link:"/notes/",isNewWin:!0},{title:"About Me",subs:[{title:"Github",link:"https://github.com/Jade-Shan/",isNewWin:!0},{title:"",link:""},{title:"Resume",link:"/content/qiwei-resume.html",isNewWin:!0}]}]};e.renderTopNav=function(t){var a=function(n,e){""===n.title?l+='<li class="divider"></li>':(l+=e&&e.pageTitle===n.title?'<li class="active">':"<li>",l=n.isNewWin?l+'<a target="_blank" href="'+n.link+'">':l+'<a href="'+n.link+'">',l=l+n.title+"</a></li>")},i=function(e){l+='<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">',l+=e.title,l+='<b class="caret"></b></a><ul class="dropdown-menu">',n.each(e.subs,function(n,e){a(e,!1)}),l+="</ul></li>"},l='<div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example-navbar-collapse"> <span class="sr-only">切换导航</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">Jade Dungeon</a> </div> <div class="collapse navbar-collapse" id="example-navbar-collapse"> <ul class="nav navbar-nav">';n.each(e.data.nav,function(n,e){e.link?a(e,t):e.subs&&i(e)}),l+="</ul></div>",n("#topnav").html(l)},e.renderSubTitle=function(e){n("#subTitle").html(e.subTitle)},e.renderPicItem=function(n){var e='<div class="col-sm-6 col-md-3"><div class="thumbnail">';return e=e+'<img id="'+n.id+'" src="'+n.url+'" alt="'+n.title+'"></div>',e=e+'<div class="caption"><h3>'+n.title+"</h3><p>"+n.desc+"</p></div></div>"},e.renderArticle=function(t){var a='<div class="item">';a=a+'<div class="title">'+t.title+"</div>";var i=new Date;return i.setTime(t.time),a=a+'<div class="metadata">'+i.toLocaleString()+" by "+t.auth+"</div>",a=a+'<div class="body">'+net.jadedungeon.markdown.makeHtml(t.text)+"</div>",a+="</div>",t.ablum&&t.ablum.length>0&&(a+='<div class="row">',n.each(t.ablum,function(n,t){a+=e.renderPicItem(t)}),a+="</div>"),a+='<div class="divider"><span></span></div>'}}(jQuery),function(n){net.jadedungeon.gallery=function(n){return t(n),this};var e=net.jadedungeon.gallery.prototype,t=function(n){net.jadedungeon=new net.jadedungeon,e.initCfg=n};e.render=function(){net.jadedungeon.renderTopNav(e.initCfg),net.jadedungeon.renderSubTitle(e.initCfg),e.renderGallery(e.initCfg.articles)},e.renderGallery=function(e){var t='<div class="spacer"></div>';n.each(e,function(n,e){t+=net.jadedungeon.renderArticle(e)}),n("#articles").html(t)}}(jQuery),function(n){net.jadedungeon.journal=function(n){return t(n),this};var e=net.jadedungeon.journal.prototype,t=function(n){net.jadedungeon=new net.jadedungeon,e.initCfg=n};e.render=function(){net.jadedungeon.renderTopNav(e.initCfg),net.jadedungeon.renderSubTitle(e.initCfg),e.renderJournal(e.initCfg.articles)},e.renderJournal=function(e){var t='<div class="spacer"></div>';n.each(e,function(n,e){t+=net.jadedungeon.renderArticle(e)}),n("#articles").html(t)}}(jQuery);