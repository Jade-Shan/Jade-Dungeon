<!DOCTYPE html>
<html lang="en" dir="dir">
	<head>
<link rel="stylesheet" href="@@cdn3rd/bootstrap/3.3.6/css/bootstrap.min.css" />
<link rel="stylesheet" href="@@cdn3rd/bootstrap/3.3.6/css/bootstrap-theme.min.css" />
		<style>
			div#hideImgs { display: none;}
			div#mapArea {overflow: auto;}	
			div#tokenListArea {overflow: auto;}	
			div#propImgArea {overflow: auto; height: 150px;}	
		</style>
		<meta charset="UTF-8">
		<title>sand box</title>
	</head>
	<body class="container">
		<div id="most-out" class="row">
			<div id="mapArea" class="col-lg-9 col-md-8 col-sm-6 col-xs-6">
				<canvas id="canvas" height="300" width="300"></canvas>	
			</div>
			<div id='tokenGroupBtns' class="container col-lg-3 col-md-4 col-sm-6 col-xs-6">
				<div class="btn-group col-12">
					<button type="button"	id="btn-lst-teams"      onClick="javascript:sandtable.listGroupTokens('team'      );" class="btn btn-default">&#128100</button>
					<button type="button"	id="btn-lst-creaters"   onClick="javascript:sandtable.listGroupTokens('creater'   );" class="btn btn-default">&#128126</button>
					<button type="button"	id="btn-lst-furnishing" onClick="javascript:sandtable.listGroupTokens('furnishing');" class="btn btn-default">&#128452</button>
					<button type="button"	id="btn-lst-doors"      onClick="javascript:sandtable.listGroupTokens('door'      );" class="btn btn-default">&#128682</button>
					<button type="button"	id="btn-lst-walls"      onClick="javascript:sandtable.listGroupTokens('wall'      );" class="btn btn-default">&#127959</button>
					<button type="button"	id="btn-lst-images"     onClick="javascript:sandtable.listGroupTokens('image'     );" class="btn btn-default">&#127756</button>
				</div>
				<div id="tokenListArea" class="col-12">
					<table class="table table-striped">
						<tbody id="token-list"></tbody>
					</table>	
				</div>
				<div id="tokenCreateBtnsArea" class="btn-group col-12">
					<span id="tokenCreateText" class="btn-group col-6"></span>
					<div  id="tokenCreateBtns" class="btn-group col-6">
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div id="ctrlPanel" class="col-lg-8 col-md-8 col-sm-6 col-xs-6">
				<table class="table table-striped">
					<tbody id="tk-prop-editer"></tbody>
				</table>
			</div>
			<div id="propImgArea" class="col-lg-4 col-md-4 col-sm-6 col-xs-6">
				<canvas id="tkImgCanvas" height="100" width="100"></canvas>	
			</div>
		</div>


		<div id="hideImgs">
			<canvas id="finalCanvas" height="300" width="300"></canvas>	
		</div>

		<script src="@@cdn3rd/jquery/2.1.4/jquery.min.js"></script>
		<script src="@@cdn3rd/bootstrap/3.3.6/js/bootstrap.min.js" ></script>
<!--build:js @@webRoot/scripts/trpg.min.js?v=@@buildversion-->
		<script src="@@webRoot/scripts/canvas2dutils.js?v=@@buildversion" ></script>
		<script src="@@webRoot/scripts/sandtable-comm.js?v=@@buildversion" ></script>
		<script src="@@webRoot/scripts/sandtable-view.js?v=@@buildversion" ></script>
		<script src="@@webRoot/scripts/sandtable-editor.js?v=@@buildversion" ></script>
<!--/build -->
	</body>
	<script type="text/javascript">
let apiRoot = '@@apiRoot/api/sandtable/';


let editorHtmlLine =  '<tr>' +
	'<td style=\'width:60px\'>线条：</td><td><input type="text" id="tkId" class="tkPropIpt" style="width:100px"></td>'
	+ '<td>x：</td><td><input type="text" id="tkX" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>y：</td><td><input type="text" id="tkY" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>x：</td><td><input type="text" id="tkX2" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>y：</td><td><input type="text" id="tkY2" class="tkPropIpt" style="width:80px"></td>'
	+ '</tr><tr>'
	+ '<td></td><td></td>'
	+ '<td></td><td></td>'
	+ '<td></td><td></td>'
	+ '<td></td><td></td>'
	+ '<td></td><td></td>'
	+ '</tr><tr>'
	+ '<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>'
	+ '<td><button type="button" onClick="javascript:sandtable.updateToken();" class="btn btn-primary">修改</button></td>'
	+ '</tr>';

let editorHtmlRect =  '<tr>' +
	'<td style=\'width:60px\'>方块：</td><td><input type="text" id="tkId" class="tkPropIpt" style="width:100px"></td>'
	+ '<td>x：</td><td><input type="text" id="tkX" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>y：</td><td><input type="text" id="tkY" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>宽：</td><td><input type="text" id="tkWidth" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>高：</td><td><input type="text" id="tkHeigh" class="tkPropIpt" style="width:80px"></td>'
	+ '</tr><tr>'
	+ '<td>图片：</td><td><input type="text" id="tkImgKey" class="tkPropIpt" style="width:100px"></td>'
	+ '<td>x：</td><td><input type="text" id="tkImgX" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>y：</td><td><input type="text" id="tkImgY" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>宽：</td><td><input type="text" id="tkImgWidth" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>高：</td><td><input type="text" id="tkImgHeight" class="tkPropIpt" style="width:80px"></td>'
	+ '</tr><tr>'
	+ '<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>'
	+ '<td><button type="button" onClick="javascript:sandtable.updateToken();" class="btn btn-primary">修改</button></td>'
	+ '</tr>';

let editorHtmlCirc =  '<tr>' +
	'<td style=\'width:60px\'>棋子：</td><td><input type="text" id="tkId" class="tkPropIpt" style="width:100px"></td>'
	+ '<td>x：</td><td><input type="text" id="tkX" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>y：</td><td><input type="text" id="tkY" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>半径：</td><td><input type="text" id="tkRadius" class="tkPropIpt" style="width:80px"></td>'
	+ '<td></td></td>'
	+ '</tr><tr>'
	+ '<td>图片：</td><td><input type="text" id="tkImgKey" class="tkPropIpt" style="width:100px"></td>'
	+ '<td>x：</td><td><input type="text" id="tkImgX" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>y：</td><td><input type="text" id="tkImgY" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>宽：</td><td><input type="text" id="tkImgWidth" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>高：</td><td><input type="text" id="tkImgHeight" class="tkPropIpt" style="width:80px"></td>'
	+ '</tr><tr>'
	+ '<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>'
	+ '<td><button type="button" onClick="javascript:sandtable.updateToken();" class="btn btn-primary">修改</button></td>'
	+ '</tr>';

let editorHtmlImg =  '<tr>' +
	'<td style=\'width:60px\'>URL：</td><td colspan="9"><input type="text" id="tkURL" class="tkPropIpt" style="width:600px"></td>'
	+ '</tr><tr>'
	+ '<td>图片：</td><td><input type="text" id="tkImgKey" class="tkPropIpt" style="width:100px"></td>'
	+ '<td>x：</td><td><input type="text" id="tkImgX" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>y：</td><td><input type="text" id="tkImgY" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>宽：</td><td><input type="text" id="tkImgWidth" class="tkPropIpt" style="width:80px"></td>'
	+ '<td>高：</td><td><input type="text" id="tkImgHeight" class="tkPropIpt" style="width:80px"></td>'
	+ '</tr><tr>'
	+ '<td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>'
	+ '<td><button type="button" onClick="javascript:sandtable.updateToken();" class="btn btn-primary">修改</button></td>'
	+ '</tr>';

let sandtable = new SandTableEditor(
	document.getElementById("canvas"), 
	document.getElementById("tkImgCanvas"), 
	{
		viewRange: 500, shadowColor: 'rgba(0, 0, 0, 0.7)',
		campaignId: "campaign01", placeId: "place01", sceneId: "scene01"
	}, "u001");

window.addEventListener('resize', sandtable.resizeLayout);

sandtable.drawSandTable();

	</script>
</html>
  

	 
	 
	 
	 
	 
	  
