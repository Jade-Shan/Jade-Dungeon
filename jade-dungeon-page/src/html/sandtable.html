<!DOCTYPE html>
<html lang="en" dir="dir">
	<head>
		<style>
			div#hideImgs { display: none;}
			div#mapArea {width: 900px; height: 700px; overflow: auto;}	
			button {
				width : 150px; height: 50px;
				border-radius: 20%; font-size: 15px;}
			/* button {border-radius: 20%;} */
			button.clicked { background-color: #141E27; color: #EEEDDE;}
		</style>
		<meta charset="UTF-8">
		<title>sand box</title>
	</head>
	<body>
		<div id="mapArea">
			<canvas id="canvas" height="300" width="300"></canvas>	
		</div>

		<div id="ctrlPanel">
			<table>
				<tr>
					<td></td>
					<td><button id="k" onClick="javascript:moveObs(0,-10);">K &nbsp &#x2191</button></td>
					<td></td>
				</tr>
				<tr>
					<td><button id="h" onClick="javascript:moveObs(-10,0);">&#8592 &nbsp; H</button></td>
					<td></td>
					<td><button id="l" onClick="javascript:moveObs(10,0);">L &nbsp &#x2192</button></td>
				</tr>
				<tr>
					<td></td>
					<td><button id="j" onClick="javascript:moveObs(0,10);">J &nbsp; &#x2193</button></td>
					<td></td>
				</tr>
			</table>
		</div>

		<div id="hideImgs">
			<canvas id="finalCanvas" height="300" width="300"></canvas>	
		</div>

		<script src="@@cdn3rd/jquery/2.1.4/jquery.min.js"></script>
<!--build:js @@webRoot/scripts/trpg.min.js?v=@@buildversion-->
		<script src="@@webRoot/scripts/control.js?v=@@buildversion" ></script>
		<script src="@@webRoot/scripts/canvas2dutils.js?v=@@buildversion" ></script>
		<script src="@@webRoot/scripts/sandtable-comm.js?v=@@buildversion" ></script>
		<script src="@@webRoot/scripts/sandtable-view.js?v=@@buildversion" ></script>
		<script src="@@webRoot/scripts/sandtable-editor.js?v=@@buildversion" ></script>
<!--/build -->
	</body>
	<script type="text/javascript">
let apiRoot = '@@apiRoot/api/sandtable/';

let sandtable = new SandTableView(
	document.getElementById("canvas"), 
	{
		viewRange: 500, shadowColor: 'rgba(0, 0, 0, 0.7)',
		campaignId: "campaign01", placeId: "place01", sceneId: "scene01"
	}, "u001");


window.addEventListener('resize', sandtable.resizeLayout);

function moveObs(dx, dy) { sandtable.moveObs(dx, dy); };

document.addEventListener("keydown", (event) => {
	if (event.key == 'h') { 
		moveObs(-10,   0);
	} else if (event.key == 'j') { 
		moveObs(  0,  10);
	} else if (event.key == 'k') { 
		moveObs(  0, -10);
	} else if (event.key == 'l') { 
		moveObs( 10,   0);
	}
});

sandtable.drawSandTable();
	</script>
</html>
  
